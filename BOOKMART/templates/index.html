{% load static %}
{% static "images" as baseurl %}
<!DOCTYPE html>
<html lang="en">
<head>
<title>BookMart</title> 
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="BookMart - Your online destination for books"> {# Updated description #}
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="{% static 'styles/bootstrap4/bootstrap.min.css' %}">
<link href="{% static 'plugins/font-awesome-4.7.0/css/font-awesome.min.css' %}" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="{% static 'plugins/OwlCarousel2-2.2.1/owl.carousel.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'plugins/OwlCarousel2-2.2.1/owl.theme.default.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'plugins/OwlCarousel2-2.2.1/animate.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'styles/main_styles.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'styles/responsive.css' %}">
</head>
<body>

<div class="super_container">

    <header class="header">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="header_content d-flex flex-row align-items-center justify-content-start">
                        <div class="header_content_inner d-flex flex-row align-items-end justify-content-start">
                            <div class="logo"><a href="index.html">BookMart</a></div> 
                            <nav class="main_nav">
                                <ul class="d-flex flex-row align-items-start justify-content-start">
                                <li class="{% if request.path == home_url %}active{% endif %}">
                                <a href="{{ home_url }}">Home</a>
                                </li>
                                {% if user.is_authenticated %}
                                <li> Hello,<P> {{ user.first_name }}</P></li>
                                <li><a href="/accounts/logout/"> Logout </a></li>
                                {% else %}
                                    <li><a href="{% url 'register' %}">Register</a></li>
                                    <li><a href="{% url 'login' %}">Login</a></li>
                                    {% endif %}
                                
                                </ul>
                            </nav>
                            <div class="header_phone ml-auto">Call us: +1 800-BOOK-NOW</div> {# Updated phone number example #}

                            <div class="hamburger ml-auto">
                                <i class="fa fa-bars" aria-hidden="true"></i>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="header_social d-flex flex-row align-items-center justify-content-start">
            <ul class="d-flex flex-row align-items-start justify-content-start">
                <li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-dribbble" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-behance" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
            </ul>
        </div>
    </header>

    <div class="menu">
        <div class="menu_header d-flex flex-row align-items-center justify-content-start">
            <div class="menu_logo"><a href="index.html">BookMart</a></div> {# Changed "Travello" to "BookMart" #}
            <div class="menu_close_container ml-auto"><div class="menu_close"><div></div><div></div></div></div>
        </div>
        <div class="menu_content">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li> {# Changed "About us" to "About Us" #}
                <li><a href="#">Categories</a></li> {# Changed "Services" to "Categories" #}
                <li><a href="news.html">Blog</a></li> {# Changed "News" to "Blog" #}
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>
        <div class="menu_social">
            <div class="menu_phone ml-auto">Call us: +1 800-BOOK-NOW</div> {# Updated phone number example #}
            <ul class="d-flex flex-row align-items-start justify-content-start">
                <li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-dribbble" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-behance" aria-hidden="true"></i></a></li>
                <li><a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
            </ul>
        </div>
    </div>

    <div class="home">

        <div class="home_slider_container">
            <div class="owl-carousel owl-theme home_slider">

                <div class="owl-item">
                    <div class="background_image" style="background-image: url('{% static 'images/home.jpg' %}');"></div>
                    <div class="home_slider_content_container">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <div class="home_slider_content">
                                        <div class="home_title"><h2>Uncover Your Next Great Read</h2></div> {# Updated tagline #}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="owl-item">
                    <div class="background_image" style="background-image: url('{% static 'images/home.jpg' %}');"></div>
                    <div class="home_slider_content_container">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <div class="home_slider_content">
                                        <div class="home_title"><h2>Dive Into Worlds of Imagination</h2></div> {# Updated tagline #}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="owl-item">
                    <div class="background_image" style="background-image: url('{% static 'images/home.jpg' %}');"></div>
                    <div class="home_slider_content_container">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <div class="home_slider_content">
                                        <div class="home_title"><h2>Books for Every Mind, Every Journey</h2></div> {# Updated tagline #}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div class="home_page_nav">
                <ul class="d-flex flex-column align-items-end justify-content-end">
                    <li><a href="#" data-scroll-to="#reader_reviews">Reader Reviews<span>02</span></a></li> {# Changed "Testimonials" to "Reader Reviews" #}
                 </ul>     
            </div>
        </div>
    </div>

    <div class="home_search">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="home_search_container">
                        <div class="home_search_title">Find Your Next Book</div> {# Changed "Search for books" to "Find Your Next Book" #}
                        <div class="home_search_content">
                            <form method="get" class="mb-4 d-flex" style="gap: 10px;">

    <select name="category" class="form-control">
        <option value="">All Categories</option>
        {% for cat in categories %}
            <option value="{{ cat }}" {% if cat == selected_category %}selected{% endif %}>{{ cat }}</option>
        {% endfor %}
    </select>

    <button type="submit" class="btn btn-dark">Search Books</button>
</form>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="intro">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="intro_container">
                        <div class="row">

                            <div class="col-lg-4 intro_col">
                                <div class="intro_item d-flex flex-row align-items-end justify-content-start">
                                    <div class="intro_icon"><img src="{% static 'images/beach.svg' %}" alt="Open Book icon"></div> {# Kept image, changed alt text #}
                                    <div class="intro_content">
                                        <div class="intro_title">Bestselling Titles</div> {# Changed "Top Books" to "Bestselling Titles" #}
                                        <div class="intro_subtitle"><p>Discover popular books loved by readers worldwide</p></div> {# Updated subtitle #}
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4 intro_col">
                                <div class="intro_item d-flex flex-row align-items-end justify-content-start">
                                    <div class="intro_icon"><img src="{% static 'images/wallet.svg' %}" alt="Price Tag icon"></div> {# Kept image, changed alt text #}
                                    <div class="intro_content">
                                        <div class="intro_title">Great Value</div> {# Changed "The Best Prices" to "Great Value" #}
                                        <div class="intro_subtitle"><p>Find books at prices that fit your budget</p></div> {# Updated subtitle #}
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4 intro_col">
                                <div class="intro_item d-flex flex-row align-items-end justify-content-start">
                                    <div class="intro_icon"><img src="{% static 'images/suitcase.svg' %}" alt="Book Stack icon"></div> {# Kept image, changed alt text #}
                                    <div class="intro_content">
                                        <div class="intro_title">Sell Your Books</div> {# Kept this title as it's relevant #}
                                        <div class="intro_subtitle"><p>Offer your pre-loved books to fellow readers</p></div> {# Updated subtitle #}
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div>

    </div>
    
</div>

<h2 class="title text-center">Popular Books</h2>
<div class="row">
    {% for pdf in pdfs %}
        <div class="col-md-4 col-sm-6 mb-4">
            <div class="product-image-wrapper">
                <div class="single-products">
                    <div class="productinfo text-center">
                        {% if pdf.thumbnail %}
                            <img src="{{ pdf.thumbnail.url }}" alt="{{ pdf.title }}" style="width: 200px; height: 250px;" />
                        {% else %}
                            <img src="{% static 'images/default_book.jpg' %}" alt="No Image" style="width: 200px; height: 250px;" />
                        {% endif %}
                        <h4>{{ pdf.title }}</h4>
                        <p>{{ pdf.author }}</p>
                        {% if user.is_authenticated %}
                        <a href="{% url 'view_pdf_page' pdf.id %}" class="btn btn-primary">Read</a>
                        {% else %}
                         <a href="{% url 'login' %}?next={% url 'view_pdf_page' pdf.id %}" class="btn btn-warning">Login to Read</a>
{% endif %}
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}
</div>
{% regroup pdfs by category as category_groups %}

<h2 class="title text-center mt-5">Categories</h2>

{% for group in category_groups %}
  <div class="category-block my-4">
    <h3>{{ group.grouper }}</h3> {# This is the category name #}
    <div class="row">
      {% for pdf in group.list %}
        <div class="col-md-4 col-sm-6 mb-4">
          <div class="product-image-wrapper">
            <div class="productinfo text-center">
              {% if pdf.thumbnail %}
                <img src="{{ pdf.thumbnail.url }}" alt="{{ pdf.title }}" style="width:200px; height:250px;">
              {% else %}
                <img src="{% static 'images/default_book.jpg' %}" alt="No Image" style="width:200px; height:250px;">
              {% endif %}
              <h4>{{ pdf.title }}</h4>
              <p>{{ pdf.author }}</p>
              {% if user.is_authenticated %}
                <a href="{% url 'view_pdf_page' pdf.id %}" class="btn btn-primary">Read</a>
              {% else %}
                <a href="{% url 'login' %}?next={% url 'view_pdf_page' pdf.id %}" class="btn btn-warning">Login to Read</a>
              {% endif %}
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
{% empty %}
  <p>No books available.</p>
{% endfor %}



            </div>
        </div>
    </div>

   

  
</div>
<footer>
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col text-center">
                    <p>&copy; 2023 BookMart. All rights reserved.</p>
                    <p>Designed by mouli</p> {# Updated designer name #}
                </div>
            </div>
        </div>
    </div>
</footer>

<script src="{% static 'js/jquery-3.2.1.min.js' %}"></script>
<script src="{% static 'styles/bootstrap4/popper.js' %}"></script>
<script src="{% static 'styles/bootstrap4/bootstrap.min.js' %}"></script>
<script src="{% static 'plugins/OwlCarousel2-2.2.1/owl.carousel.js' %}"></script>
<script src="{% static 'plugins/Isotope/isotope.pkgd.min.js' %}"></script>
<script src="{% static 'plugins/scrollTo/jquery.scrollTo.min.js' %}"></script>
<script src="{% static 'plugins/easing/easing.js' %}"></script>
<script src="{% static 'plugins/parallax-js-master/parallax.min.js' %}"></script>
<script src="{% static 'js/custom.js' %}"></script>
</body>
</html>